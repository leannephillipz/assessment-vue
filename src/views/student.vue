<template>
  <div class="student">
    <div v-if="error" class="error">{{ error }}</div>

    <!-- <p>Student {{ $route.params.slug }} {{ props.slug }}</p> -->
    <h1>{{ student.fname }} {{ student.lname }}</h1>
<p class="note">In Dev - need to pull and cross reference data</p>
<p>Student ID: {{ student.sid }}</p>
<p>Date of Birth: {{ student.dob }} Age: {xx}</p>
<a :href="student.email" class="btn">Email Student</a>
<h3>Task Assessment</h3>
    <ul class="student grid">
      <li>
        <ul class="flex header">
        <li>Task 1:</li>
          <li>Employment and Industry</li>
          <li>Status</li>
          <li></li>
        </ul>
      </li>
      <li>
        <ul class="flex">
        <li>1.1</li>
          <li>Job Roles</li>
          <li><span class="pill pass">pass</span></li>
          <li></li>
        </ul>
      </li>
      <li>
        <ul class="flex">
          <li>1.2</li>
          <li>Types of employment</li>
          <li><span class="pill pass">pass</span></li>
          <li></li>
        </ul>
      </li>
      <li>
        <ul class="flex">
          <li>1.3</li>
          <li>Evaluation</li>
          <li><span class="pill referral">referral</span></li>
          <li></li>
        </ul>
      </li>
    </ul>
  </div>
</template>

<script>
import { computed } from 'vue'
import getDocument from '@/composables/getDocument'

export default {
  name: 'Student',
  props: ['slug'],
  setup(props) {
    // console.log(props.slug)
    const { content:student, error, load } = getDocument()
    load('students', props.slug)

    // computed(() =>  student.value.email = "mailto:" + student.value.sid + "@student.gbmc.ac.uk")

    return { student, error }
  },
  // computed: {
  //   email: {
  //     const student.value.email = "mailto:" + student.value.sid + "@student.gbmc.ac.uk"
  //   }
  // }
}
</script>

<style>


</style>
